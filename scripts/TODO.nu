rg "(TODO)|(FIXME)" --json src | lines | each { |match| $match | from json } | filter { |match| $match.type == "match" } | each { |todo| $todo |  flatten | flatten | flatten | flatten} | each { |todo| $todo | select text lines_text line_number } | flatten | rename --column { text: file_path } | each { |todo| $todo | update lines_text ($todo.lines_text | str trim | if $in starts-with '//' { str substring 3.. }  else { $in } ) } | each { |todo| $"- `($todo.file_path):($todo.line_number)`\n\t - ($todo.lines_text)" } | to text | save TODO.md -f
